{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nexport default function CreateRecipe() {\n  _s();\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [searchTerm2, setSearchTerm2] = useState(\"\");\n  const [categories, setCategories] = useState([]);\n  const [subCategories, setSubCategories] = useState([]);\n  const [filteredCategories, setFilteredCategories] = useState([]);\n  const [filteredSubCategories, setFilteredSubCategories] = useState([]);\n  const [selectedCategoryId, setSelectedCategoryId] = useState(null);\n  const [selectedSubCategoryId, setSelectedSubCategoryId] = useState(null);\n  const [recipeData, setRecipeData] = useState({\n    name: \"\",\n    description: \"\",\n    image: null,\n    ingredients: [],\n    prep_time: 0,\n    calories: 0,\n    vegetarian: false,\n    diet: \"\",\n    category: \"\",\n    subcategory: \"\"\n  });\n  const token = localStorage.getItem(\"token\");\n  // Function to fetch categories and subcategories based on search term\n  const fetchCatSub = async () => {\n    try {\n      const response = await fetch(`http://localhost:8080/categories?name`);\n      const data = await response.json();\n      if (data && data.documents && Array.isArray(data.documents)) {\n        setCategories(data.documents);\n      }\n      const response2 = await fetch(`http://localhost:8080/subcategories?name`);\n      const data2 = await response2.json();\n      if (data2 && data2.documents && Array.isArray(data2.documents)) {\n        setSubCategories(data2.documents);\n      }\n    } catch (error) {\n      console.error(\"Error fetching categories and subcategories:\", error);\n    }\n  };\n\n  // Update filtered categories and subcategories based on search terms\n  useEffect(() => {\n    setFilteredCategories(categories.filter(category => category.name.toLowerCase().includes(searchTerm.toLowerCase())));\n    setFilteredSubCategories(subCategories.filter(subCategory => subCategory.name.toLowerCase().includes(searchTerm2.toLowerCase())));\n  }, [searchTerm, searchTerm2, categories, subCategories]);\n  const createRecipe = async () => {\n    try {\n      const response = await fetch(\"http://localhost:8080/recipes\", {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(recipeData)\n      });\n      const data = await response.json();\n      console.log(\"data\", data);\n    } catch (error) {\n      console.error(\"Error creating recipe:\", error);\n    }\n  };\n  console.log(recipeData);\n  const handleCategoryChange = event => {\n    const selectedCategoryId = event.target.value;\n    setSelectedCategoryId(selectedCategoryId);\n    setRecipeData({\n      ...recipeData,\n      category: selectedCategoryId\n    });\n  };\n\n  // Handling subcategory change\n  const handleSubCategoryChange = event => {\n    const selectedSubCategoryId = event.target.value;\n    setSelectedSubCategoryId(selectedSubCategoryId);\n    setRecipeData({\n      ...recipeData,\n      subcategory: selectedSubCategoryId\n    });\n  };\n  const handleIngredientsChange = e => {\n    const ingredients = e.target.value.split(\",\"); // Splitting input by comma to create an array\n    setRecipeData({\n      ...recipeData,\n      ingredients\n    });\n  };\n}\n_s(CreateRecipe, \"e5tXrFYtSzDx2ntCtSxVY7FrdHg=\");\n_c = CreateRecipe;\nvar _c;\n$RefreshReg$(_c, \"CreateRecipe\");","map":{"version":3,"names":["React","useState","useEffect","CreateRecipe","_s","searchTerm","setSearchTerm","searchTerm2","setSearchTerm2","categories","setCategories","subCategories","setSubCategories","filteredCategories","setFilteredCategories","filteredSubCategories","setFilteredSubCategories","selectedCategoryId","setSelectedCategoryId","selectedSubCategoryId","setSelectedSubCategoryId","recipeData","setRecipeData","name","description","image","ingredients","prep_time","calories","vegetarian","diet","category","subcategory","token","localStorage","getItem","fetchCatSub","response","fetch","data","json","documents","Array","isArray","response2","data2","error","console","filter","toLowerCase","includes","subCategory","createRecipe","method","headers","Authorization","body","JSON","stringify","log","handleCategoryChange","event","target","value","handleSubCategoryChange","handleIngredientsChange","e","split","_c","$RefreshReg$"],"sources":["/home/morgan/Desktop/foodie-app/src/components/auth/CreateRecipe.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nexport default function CreateRecipe() {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [searchTerm2, setSearchTerm2] = useState(\"\");\n  const [categories, setCategories] = useState([]);\n  const [subCategories, setSubCategories] = useState([]);\n  const [filteredCategories, setFilteredCategories] = useState([]);\n  const [filteredSubCategories, setFilteredSubCategories] = useState([]);\n  const [selectedCategoryId, setSelectedCategoryId] = useState(null);\n  const [selectedSubCategoryId, setSelectedSubCategoryId] = useState(null);\n\n  const [recipeData, setRecipeData] = useState({\n    name: \"\",\n    description: \"\",\n    image: null,\n    ingredients: [],\n    prep_time: 0,\n    calories: 0,\n    vegetarian: false,\n    diet: \"\",\n    category: \"\",\n    subcategory: \"\",\n  });\n\n  const token = localStorage.getItem(\"token\");\n  // Function to fetch categories and subcategories based on search term\n  const fetchCatSub = async () => {\n    try {\n      const response = await fetch(`http://localhost:8080/categories?name`);\n      const data = await response.json();\n      if (data && data.documents && Array.isArray(data.documents)) {\n        setCategories(data.documents);\n      }\n\n      const response2 = await fetch(`http://localhost:8080/subcategories?name`);\n      const data2 = await response2.json();\n      if (data2 && data2.documents && Array.isArray(data2.documents)) {\n        setSubCategories(data2.documents);\n      }\n    } catch (error) {\n      console.error(\"Error fetching categories and subcategories:\", error);\n    }\n  };\n\n  // Update filtered categories and subcategories based on search terms\n  useEffect(() => {\n    setFilteredCategories(\n      categories.filter((category) =>\n        category.name.toLowerCase().includes(searchTerm.toLowerCase())\n      )\n    );\n    setFilteredSubCategories(\n      subCategories.filter((subCategory) =>\n        subCategory.name.toLowerCase().includes(searchTerm2.toLowerCase())\n      )\n    );\n  }, [searchTerm, searchTerm2, categories, subCategories]);\n\n  const createRecipe = async () => {\n    try {\n      const response = await fetch(\"http://localhost:8080/recipes\", {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(recipeData),\n      });\n      const data = await response.json();\n      console.log(\"data\", data);\n    } catch (error) {\n      console.error(\"Error creating recipe:\", error);\n    }\n  };\n  console.log(recipeData);\n  const handleCategoryChange = (event) => {\n    const selectedCategoryId = event.target.value;\n    setSelectedCategoryId(selectedCategoryId);\n    setRecipeData({ ...recipeData, category: selectedCategoryId });\n  };\n\n  // Handling subcategory change\n  const handleSubCategoryChange = (event) => {\n    const selectedSubCategoryId = event.target.value;\n    setSelectedSubCategoryId(selectedSubCategoryId);\n    setRecipeData({ ...recipeData, subcategory: selectedSubCategoryId });\n  };\n\n  const handleIngredientsChange = (e) => {\n    const ingredients = e.target.value.split(\",\"); // Splitting input by comma to create an array\n    setRecipeData({ ...recipeData, ingredients });\n  };\n  \n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}