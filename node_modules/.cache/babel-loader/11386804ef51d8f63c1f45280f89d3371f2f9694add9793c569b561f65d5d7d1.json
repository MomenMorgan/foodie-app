{"ast":null,"code":"var _s = $RefreshSig$();\nimport React from \"react\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { useContext } from \"react\";\nimport { TokenContext } from \"./TokenContext\";\nimport { Link } from \"react-router-dom\";\nimport { Navigate } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport sign from \"../assets/images/sign.png\";\nexport default function Loginpage() {\n  _s();\n  const {\n    token,\n    setToken,\n    handleLogout\n  } = useContext(TokenContext);\n  const navigate = useNavigate();\n  const [loginData, setLoginData] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setLoginData(prevData => ({\n      ...prevData,\n      [name]: value\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const res = await axios.post(\"http://localhost:8080/login\", loginData);\n      if (res.status === 200) {\n        const {\n          token\n        } = res.data;\n        setToken(token);\n        const {\n          email\n        } = loginData;\n        localStorage.setItem(\"email\", email);\n        const id = res.data.userId;\n        localStorage.setItem(\"userId\", id);\n        navigate(\"/\", {\n          replace: true\n        });\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n}\n_s(Loginpage, \"6j4uZPz7HMT+R2L7P8TVVCw4fe4=\", false, function () {\n  return [useNavigate];\n});\n_c = Loginpage;\nvar _c;\n$RefreshReg$(_c, \"Loginpage\");","map":{"version":3,"names":["React","useState","axios","useContext","TokenContext","Link","Navigate","useNavigate","sign","Loginpage","_s","token","setToken","handleLogout","navigate","loginData","setLoginData","email","password","handleChange","e","name","value","target","prevData","handleSubmit","preventDefault","res","post","status","data","localStorage","setItem","id","userId","replace","error","console","_c","$RefreshReg$"],"sources":["/home/morgan/Desktop/foodie-app/src/pages/Loginpage.js"],"sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { useContext } from \"react\";\nimport { TokenContext } from \"./TokenContext\";\nimport { Link } from \"react-router-dom\";\nimport { Navigate } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport sign from \"../assets/images/sign.png\";\n\nexport default function Loginpage() {\n  const { token, setToken, handleLogout } = useContext(TokenContext);\n  const navigate = useNavigate();\n  const [loginData, setLoginData] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setLoginData((prevData) => ({\n      ...prevData,\n      [name]: value,\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      const res = await axios.post(\"http://localhost:8080/login\", loginData);\n\n      if (res.status === 200) {\n        const { token } = res.data;\n        setToken(token);\n        const { email } = loginData;\n        localStorage.setItem(\"email\", email);\n        const id = res.data.userId;\n        localStorage.setItem(\"userId\", id);\n        navigate(\"/\", { replace: true });\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  \n}\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,OAAO;AAChC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,UAAU,QAAQ,OAAO;AAClC,SAASC,YAAY,QAAQ,gBAAgB;AAC7C,SAASC,IAAI,QAAQ,kBAAkB;AACvC,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,IAAI,MAAM,2BAA2B;AAE5C,eAAe,SAASC,SAASA,CAAA,EAAG;EAAAC,EAAA;EAClC,MAAM;IAAEC,KAAK;IAAEC,QAAQ;IAAEC;EAAa,CAAC,GAAGV,UAAU,CAACC,YAAY,CAAC;EAClE,MAAMU,QAAQ,GAAGP,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACQ,SAAS,EAAEC,YAAY,CAAC,GAAGf,QAAQ,CAAC;IACzCgB,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE;EACZ,CAAC,CAAC;EAEF,MAAMC,YAAY,GAAIC,CAAC,IAAK;IAC1B,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;IAChCP,YAAY,CAAEQ,QAAQ,KAAM;MAC1B,GAAGA,QAAQ;MACX,CAACH,IAAI,GAAGC;IACV,CAAC,CAAC,CAAC;EACL,CAAC;EAED,MAAMG,YAAY,GAAG,MAAOL,CAAC,IAAK;IAChCA,CAAC,CAACM,cAAc,CAAC,CAAC;IAElB,IAAI;MACF,MAAMC,GAAG,GAAG,MAAMzB,KAAK,CAAC0B,IAAI,CAAC,6BAA6B,EAAEb,SAAS,CAAC;MAEtE,IAAIY,GAAG,CAACE,MAAM,KAAK,GAAG,EAAE;QACtB,MAAM;UAAElB;QAAM,CAAC,GAAGgB,GAAG,CAACG,IAAI;QAC1BlB,QAAQ,CAACD,KAAK,CAAC;QACf,MAAM;UAAEM;QAAM,CAAC,GAAGF,SAAS;QAC3BgB,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEf,KAAK,CAAC;QACpC,MAAMgB,EAAE,GAAGN,GAAG,CAACG,IAAI,CAACI,MAAM;QAC1BH,YAAY,CAACC,OAAO,CAAC,QAAQ,EAAEC,EAAE,CAAC;QAClCnB,QAAQ,CAAC,GAAG,EAAE;UAAEqB,OAAO,EAAE;QAAK,CAAC,CAAC;MAClC;IACF,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACtB;EACF,CAAC;AAGH;AAAC1B,EAAA,CArCuBD,SAAS;EAAA,QAEdF,WAAW;AAAA;AAAA+B,EAAA,GAFN7B,SAAS;AAAA,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}